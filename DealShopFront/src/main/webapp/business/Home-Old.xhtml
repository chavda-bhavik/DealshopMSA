<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./Template.xhtml">

            <ui:define name="content">
                ${businessBean.getAndSetBusinessDetails()}
                
                <div class="content-wrapper">
                    ${homeBean.getAllData()}
                    <div class="row">
                        <div class="col-xl-4 col-lg-6 col-md-12">
                            <!-- START card-->
                            <div class="card flex-row align-items-center align-items-stretch border-0">
                                <div class="col-4 d-flex align-items-center bg-gray-dark justify-content-center rounded-left">
                                    <em class="icon-list font-40"></em>
                                </div>
                                <div class="col-8 py-3 bg-gray rounded-right">
                                    <div class="h2 mt-0">${homeBean.totalDeals}</div>
                                    <div class="text-uppercase">Total Deals</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-4 col-md-4">
                            <!-- START card-->
                            <div class="card flex-row align-items-center align-items-stretch border-0">
                                <div class="col-4 d-flex align-items-center bg-purple-dark justify-content-center rounded-left">
                                    <em class="icon-basket-loaded font-40"></em>
                                </div>
                                <div class="col-8 py-3 bg-purple rounded-right">
                                    <div class="h2 mt-0">${homeBean.activeDeals}</div>
                                    <div class="text-uppercase">Active Deals</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-4 col-md-4">
                            <!-- START card-->
                            <div class="card flex-row align-items-center align-items-stretch border-0">
                                <div class="col-4 d-flex align-items-center bg-green-dark justify-content-center rounded-left">
                                    <em class="icon-graph font-40"></em>
                                </div>
                                <div class="col-8 py-3 bg-green rounded-right">
                                    <div class="h2 mt-0">${homeBean.dealsSold}</div>
                                    <div class="text-uppercase">Deals Sold</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xl-4 col-md-6">
                            <!-- START card-->
                            <div class="card flex-row align-items-center align-items-stretch border-0">
                                <div class="col-4 d-flex align-items-center bg-warning-dark justify-content-center rounded-left">
                                    <em class="icon-bubbles font-40"></em>
                                </div>
                                <div class="col-8 py-3 bg-warning rounded-right">
                                    <div class="h2 mt-0">${homeBean.totalReviews}</div>
                                    <div class="text-uppercase">Total Reviews</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-4 col-md-6">
                            <!-- START card-->
                            <div class="card flex-row align-items-center align-items-stretch border-0">
                                <div class="col-4 d-flex align-items-center bg-inverse-dark justify-content-center rounded-left">
                                    <em class="icon-diamond font-40"></em>
                                </div>
                                <div class="col-8 py-3 bg-inverse-light rounded-right">
                                    <div class="h2 mt-0">${homeBean.moneyEarned}</div>
                                    <div class="text-uppercase">Total Money Earned</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-4 col-md-4">
                            <!-- START card-->
                            <div class="card flex-row align-items-center align-items-stretch border-0">
                                <div class="col-4 d-flex align-items-center bg-primary-dark justify-content-center rounded-left">
                                    <em class="icon-wallet font-40"></em>
                                </div>
                                <div class="col-8 py-3 bg-primary rounded-right">
                                    <div class="h2 mt-0">${homeBean.moneyInWallet}</div>
                                    <div class="text-uppercase">Money in wallet</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card card-default">
                        <div class="card-header">
                            <div class="card-title">Top Selling Deals</div>
                        </div>
                        
                        <div class="card-body">
                            <ui:repeat var="usage" value="${homeBean.trandingDeals}">
                                <div class="list-group mb-1" style="border-bottom: 1px solid gray;">
                                    <div class="list-group-item">
                                        <table class="wd-wide">
                                            <tbody>
                                                <tr>
                                                    <td class="wd-xs">
                                                        <div class="px-2">
                                                            <img class="img-fluid rounded thumb64" src="/DealShop/assets/images/deals/${usage.dealID.bannerImage}" alt="" />
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="px-2">
                                                            <h4 class="mb-2">${usage.dealID.name}</h4>
                                                        </div>
                                                    </td>
<!--                                                    <td class="wd-xs d-none d-lg-table-cell">
                                                        <div class="px-2">
                                                            <p class="m-0"><em class="icon-people mr-2 fa-lg"></em>26</p>
                                                        </div>
                                                    </td>-->
                                                    <td class="wd-xs d-none d-lg-table-cell">
                                                        <div class="px-2">
                                                            <p class="m-0">
                                                                <em class="icon-wallet mr-2 fa-lg"></em>${usage.dealID.averageCost}
                                                            </p>
                                                        </div>
                                                    </td>
                                                    <td class="wd-xs d-none d-lg-table-cell">
                                                        <div class="px-2">
                                                            <p class="m-0">
                                                                <em class="icon-calendar mr-2 fa-lg"></em>
                                                                <h:outputText value="${usage.dealID.dueDate}">
                                                                    <f:convertDateTime pattern="dd/mm/yyyy" />
                                                                </h:outputText>
                                                            </p>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </ui:repeat>
                        </div>
                    </div>
                </div>

            </ui:define>

        </ui:composition>

    </body>
</html>
